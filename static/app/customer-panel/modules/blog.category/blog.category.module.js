var blog=angular.module("blogCategoryModule",[]).controller("blogCategoryCtrl",["$scope","$state","$stateParams","$http","$filter",function(e,t,a,r,o){e.blogs=[];var l={};l.url=a.url,r({url:"/api/1.0/categories/?where="+JSON.stringify(l)+"&r="+Math.random(),method:"GET"}).then(function(a){var o=a.data._items;if(0==o.length)t.go("404");else{e.category=o[0];var l=JSON.stringify({related_categories:1}),i={};i.related_categories={$in:[o[0]._id]},url="/api/1.0/blog?where="+JSON.stringify(i)+"&r="+Math.random()+"&embedded="+l,r({url:url,method:"GET"}).then(function(t){t.data&&(e.blogs=t.data._items,angular.forEach(e.blogs,function(e){e._updated=new Date(e._updated),e.related_categories=[o[0]]}))},function(e){})}})}]);