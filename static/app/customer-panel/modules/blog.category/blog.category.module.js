var blog=angular.module("blogCategoryModule",[]).controller("blogCategoryCtrl",["$scope","$state","$stateParams","$http","$filter",function(e,t,o,a,r){console.log("Blog category controller!"),console.log("State Params: ",o),e.blogs=[];var l={};l.url=o.url,a({url:"/api/1.0/categories/?where="+JSON.stringify(l)+"&r="+Math.random(),method:"GET"}).then(function(o){var r=o.data._items;if(0==r.length)t.go("404");else{e.category=r[0];var l=JSON.stringify({related_categories:1}),g={};g.related_categories={$in:[r[0]._id]},url="/api/1.0/blog?where="+JSON.stringify(g)+"&r="+Math.random()+"&embedded="+l,a({url:url,method:"GET"}).then(function(t){console.log("Blogs Data: ",t.data._items),t.data&&(e.blogs=t.data._items,angular.forEach(e.blogs,function(e){e._updated=new Date(e._updated),e.related_categories=[r[0]]}))},function(e){console.log(e)})}})}]);